function pad(e,t){var n="000000000"+e;return n.substr(n.length-t)}function add_indicator_style(){var e=document.getElementById("exists");if(null==e){var e=document.createElement("exists"),t=document.createElement("style");t.type="text/css",t.innerHTML="#slidecontainer {width: 100%;outline: none;}.slider {-webkit-appearance: none;appearance: none;width: 300px;height: 75px;outline: none;opacity: 0.5;-webkit-transition: .2s;transition: opacity .2s;}.slider:hover {opacity: 1;outline: none;}.slider:focus { outline: none; }.slider::-webkit-slider-thumb {-webkit-appearance: none;appearance: none;width: 25px;height: 25px;background: #4CAF50;cursor: pointer;outline: none;}.slider::-moz-range-thumb {width: 25px;height: 25px;background: #4CAF50;cursor: pointer;outline: none;}",document.body.appendChild(e),document.body.appendChild(t)}}function create_play_control(e,t){var n=t+"play-button.png",d=t+"pause-button.png",a="s_"+e,c="trk_"+e,o="ind_"+e,l=document.createElement("VAR");l.id="var_data_"+e;var e=e,r=document.createElement("input");r.type="image",r.src="play-button.png",r.style="outline: none;",r.id="pb_"+e,r.onclick=function(){document.getElementById(a).paused?(document.getElementById(a).play(),document.getElementById("pb_"+e).src=d):(document.getElementById(a).pause(),document.getElementById("pb_"+e).src=n)};var i=document.createElement("input");i.type="range",i.min="0",i.max="100",i.value="0",i.className="slider",i.id=o,wrap_ind=document.createElement("div"),wrap_ind.id="slidecontainer",wrap_ind.appendChild(i),i.onmousedown=function(){var t=document.getElementById("var_data_"+e),n=document.getElementById(a);t.wp=!n.paused,n.pause()},i.onmouseup=function(){var t=document.getElementById("var_data_"+e),n=document.getElementById(a);console.log(t.wp),t.wp&&n.play()},i.onchange=function(){pos=this.value,document.getElementById(a).currentTime=pos/100*track_length},ct=document.createElement("div"),ct.id="ct_"+e,ct.style="display: inline",ct.innerHTML="0:00",sep=document.createElement("div"),sep.style="display: inline",sep.innerHTML="- ",pt=document.createElement("div"),pt.id="pt_"+e,pt.style="display: inline",pt.innerHTML="0:00",wrapper=document.createElement("div"),wrapper.appendChild(ct),wrapper.appendChild(sep),wrapper.appendChild(pt);var p=document.createElement("TABLE");tb=document.createElement("tbody"),pr=document.createElement("ROW"),c1=document.createElement("TD"),c2=document.createElement("TD"),c3=document.createElement("TD"),c3.setAttribute("style","vertical-align:middle; font-size:2em;"),c1.appendChild(r),c2.appendChild(wrap_ind),c3.appendChild(wrapper),pr.appendChild(c1),pr.appendChild(c2),pr.appendChild(c3),tb.appendChild(pr),p.appendChild(tb);var u=document.createElement("source");u.id=c,sound=document.createElement("audio"),sound.autoplay=!0,sound.volume=1,sound.id=a,sound.appendChild(u),sound.onvolumechange=function(){volume=document.getElementById(a).volume},sound.onended=function(){document.getElementById("pb_"+e).src=n,l=document.getElementById("var_data_"+e),l.wp=!1,document.getElementById(o).value=0,callback=l.callback,callback&&"function"==typeof callback&&callback()},sound.oncanplay=function(){track_length=document.getElementById(a).duration,track_length=Math.round(track_length),sec=track_length%60,min=Math.floor(track_length/60),t_str=min+":"+pad(sec+"",2)+" ",document.getElementById("pt_"+e).innerHTML=t_str},sound.ontimeupdate=function(){currentTime=document.getElementById(a).currentTime,currentTime=Math.round(currentTime),sec=currentTime%60,min=Math.floor(currentTime/60),t_str=min+":"+pad(sec+"",2)+" ",document.getElementById("ct_"+e).innerHTML=t_str,slider=document.getElementById(o),slider.value=currentTime/track_length*100},add_indicator_style(),$("."+e).append($(p)),$("."+e).append($(l)),$("."+e).append($(sound)),document.getElementById(a).paused&&(document.getElementById("pb_"+e).src=d)}function set_track(e,t){var n=document.getElementById("trk_"+e),d=document.getElementById("s_"+e);n.src=t,n.type="audio/mpeg",d.autoplay="true",d.load(),d.play()}function set_onended_callback(e,t){var_data=document.getElementById("var_data_"+e),var_data.callback=t}